settings:
    export_dir:
        - projectfiles/{tool}/{project_name}
    tools:
        uvision:
            template:
                - records/tools/uvision.uvproj.tmpl

module:
    tools: &module_tools
        - records/tools/gcc_arm.yaml
        - records/tools/armcc.yaml
        - records/tools/armclang.yaml
        - records/tools/version.yaml
    bl: &module_bl
        - *module_tools
        - records/usb/usb-core.yaml
        - records/usb/usb-msc.yaml
        - records/daplink/bootloader.yaml
        - records/daplink/drag-n-drop.yaml
        - records/daplink/settings.yaml
        - records/daplink/settings_rom_stub.yaml
        - records/daplink/target_board.yaml
        - records/rtos/rtos-none.yaml
    if: &module_if
        - *module_tools
        - records/usb/usb-core.yaml
        - records/usb/usb-msc.yaml
        - records/usb/usb-cdc.yaml
        - records/usb/usb-webusb.yaml
        - records/usb/usb-winusb.yaml
        - records/daplink/cmsis-dap.yaml
        - records/daplink/drag-n-drop.yaml
        - records/daplink/usb2uart.yaml
        - records/daplink/settings.yaml
        - records/daplink/settings_rom.yaml
        - records/daplink/interface.yaml
        - records/daplink/target_family.yaml
        - records/daplink/target_board.yaml
    # HICs
    hic_stm32f103xb: &module_hic_stm32f103xb
        - records/rtos/rtos-cm3.yaml
        - records/hic_hal/stm32f103xb.yaml
        - records/usb/usb-hid.yaml

projects:
    # HIC bootloader
    stm32f103xb_bl:
        - *module_bl
        - records/hic_hal/stm32f103xb.yaml
        - records/board/stm32f103xb_bl.yaml

    # generic HIC Interface Firmware (no MSD)
    stm32f103xb_generic_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f103xb_if.yaml
        - records/family/all_family.yaml
        - records/usb/usb-bulk.yaml

    # specific HIC Interface Firmware (for MSD)
    stm32f103xb_stm32f072rb_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f072rb.yaml
    stm32f103xb_stm32f103rb_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f103rb.yaml
    stm32f103xb_stm32f103cb_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f103cb.yaml
    stm32f103xb_stm32f207zg_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f207zg.yaml
    stm32f103xb_stm32f334r8_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f334r8.yaml
    stm32f103xb_stm32f401re_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f401re.yaml
    stm32f103xb_stm32f411re_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f411re.yaml
    stm32f103xb_stm32f429zi_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f429zi.yaml
    stm32f103xb_stm32f746zg_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32f746zg.yaml
    stm32f103xb_stm32l476rg_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/stm32l476rg.yaml
    stm32f103xb_ublox_evk_odin_w2_if:
        - *module_if
        - *module_hic_stm32f103xb
        - records/board/ublox_evk_odin_w2.yaml
